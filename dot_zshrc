zi_home="${HOME}/.zi"
source "${zi_home}/bin/zi.zsh"

autoload -Uz _zi
(( ${+_comps} )) && _comps[zi]=_zi

zicompinit

zi ice compile='(pure|async).zsh' pick='async.zsh' src='pure.zsh'
zi light sindresorhus/pure

zi wait='0' lucid light-mode for \
    Aloxaf/fzf-tab \
    zdharma-continuum/fast-syntax-highlighting \
    atload="bindkey '^P' history-substring-search-up;
        bindkey '^N' history-substring-search-down;
        typeset -g HISTORY_SUBSTRING_SEARCH_HIGHLIGHT_FOUND='bg=green,fg=black,';
        typeset -g HISTORY_SUBSTRING_SEARCH_HIGHLIGHT_NOT_FOUND='bg=red,fg=black,'
        source '/usr/share/fzf/completion.zsh' 2> /dev/null
        source '/usr/share/fzf/key-bindings.zsh' 2> /dev/null" \
        zsh-users/zsh-history-substring-search

HISTFILE=~/.zsh_history
HISTSIZE=2000
SAVEHIST=2000
setopt appendhistory
setopt HIST_IGNORE_ALL_DUPS
setopt HIST_FIND_NO_DUPS

zstyle ':completion:*' menu select
zstyle ':completion:*' matcher-list 'm:{a-z}={A-Z}'
kitty + complete setup zsh | source /dev/stdin

# Edit line in the editor
bindkey -e
autoload -z edit-command-line
zle -N edit-command-line
bindkey "^[e" edit-command-line
autoload -Uz bracketed-paste-magic
zle -N bracketed-paste bracketed-paste-magic
autoload -Uz url-quote-magic
zle -N self-insert url-quote-magic

# Aliases
alias ls="exa"
alias rm="rm -i"
alias yar="yay -Rscn"
alias rr="ranger"
alias tree="tree -C"
alias set_mac="sudo $HOME/Documents/utils/random_mac.sh"
alias mem_clean="sudo swapoff -a && sudo swapon -a && sudo sh -c 'echo 3 >/proc/sys/vm/drop_caches'"
alias bright-norm="xrandr --output DVI-0 --brightness 1 --gamma 1:1:1"
alias bright-low="xrandr --output DVI-0 --brightness 0.6 --gamma 1:1:0.8"

export FZF_DEFAULT_OPTS='--pointer=● --marker=▶ --ansi --bind "alt-t:toggle-preview,ctrl-n:preview-down,ctrl-p:preview-up,ctrl-l:accept,ctrl-r:clear-screen,alt-p:next-history,alt-n:previous-history" --height 40% --layout=reverse --tabstop=2 --color=hl:#f158a6,fg+:#b8af96,hl+:#f158a6,bg+:#3b312b,border:#40362f,gutter:#1f1a17,pointer:#d3c94b,prompt:#c57c41,marker:#b2809f,info:#70a17c --inline-info --margin=0,1,0,0 --prompt=">> " --history=/home/monkoose/.fzf_history --history-size=500'
